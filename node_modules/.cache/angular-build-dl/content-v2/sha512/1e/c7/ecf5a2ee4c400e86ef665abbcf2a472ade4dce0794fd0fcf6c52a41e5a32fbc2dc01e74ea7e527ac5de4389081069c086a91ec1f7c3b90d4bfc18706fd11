{"version":3,"sources":["./src/app/pages/technical/measurement-type/measurement-type.page.html","./src/app/pages/technical/measurement-type/measurement-type.page.scss","./src/app/pages/technical/measurement-type/measurement-type.page.ts","./src/app/shared/services/operational-readings/operational-readings.service.ts"],"names":[],"mappings":"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","file":"default~pages-technical-measurement-type-measurement-type-module~pages-technical-operational-reading~b806443f-es2015.js","sourcesContent":["export default \"<ion-header mode=\\\"ios\\\" class=\\\"ion-no-border\\\">\\n  <ion-toolbar mode=\\\"ios\\\" class=\\\"ion-no-border toolbar-core\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"clickDismiss()\\\">\\n        <ion-icon\\n          src=\\\"../../../../assets/icon/air-selangor-icon.svg\\\"\\n          style=\\\"font-size: 2rem\\\"\\n        ></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"font-weight: bold\\\"></ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"openNotification()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"notifications\\\"></ion-icon>\\n        <ion-badge\\n          size=\\\"small\\\"\\n          color=\\\"danger\\\"\\n          style=\\\"position: absolute; right: -5px; top: 1px\\\"\\n          >{{ notificationService.totalnotificationbyuser }}</ion-badge\\n        >\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"content-core\\\">\\n  <div class=\\\"ion-padding\\\">\\n    <ion-list class=\\\"line-input\\\">\\n      <form [formGroup]=\\\"measurementtypeFormGroup\\\">\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Measurement Type</ion-label>\\n          <ion-select formControlName=\\\"measurement_type\\\">\\n            <ion-select-option value=\\\"RUNNING HOUR\\\"\\n              >RUNNING HOUR</ion-select-option\\n            >\\n            <ion-select-option value=\\\"TEMPERATURE SENSOR\\\"\\n              >TEMPERATURE SENSOR</ion-select-option\\n            >\\n          </ion-select>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Reading Date</ion-label>\\n          <ion-datetime displayFormat=\\\"YYYY-MM-DD\\\" formControlName=\\\"reading_date\\\"></ion-datetime>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Reading Time</ion-label>\\n          <ion-datetime displayFormat=\\\"HH:mm\\\" formControlName=\\\"reading_time\\\"></ion-datetime>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Current Value</ion-label>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"current_value\\\"></ion-input>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Initial Value</ion-label>\\n          <ion-input type=\\\"text\\\" formControlName=\\\"initial_value\\\"></ion-input>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Owning Organization</ion-label>\\n          <ion-select formControlName=\\\"owning_organization\\\">\\n            <ion-select-option value=\\\"\\\">Please select</ion-select-option>\\n            <ion-select-option value=\\\"ES-D\\\">ENGINEERING SERVICES - DISTRIBUTION</ion-select-option>\\n            <ion-select-option value=\\\"FLEET\\\">FLEET</ion-select-option>\\n            <ion-select-option value=\\\"NRW\\\">NRW</ion-select-option>\\n            <ion-select-option value=\\\"PD-N\\\">PRODUCTION NORTHERN</ion-select-option>\\n            <ion-select-option value=\\\"PD-S\\\">PRODUCTION SOUTHERN</ion-select-option>\\n            <ion-select-option value=\\\"SCADA\\\">SCADA</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n\\n        <!-- <ion-item>\\n          <ion-label position=\\\"stacked\\\"\\n            >Measurement Gauge Meter Reason</ion-label\\n          >\\n          <ion-textarea\\n            rows=\\\"5\\\"\\n            formControlName=\\\"measurement_gauge_meter_reason\\\"\\n          ></ion-textarea>\\n        </ion-item> -->\\n      </form>\\n    </ion-list>\\n\\n    <div class=\\\"ion-text-center ion-padding\\\">\\n      <ion-button color=\\\"light\\\" (click)=\\\"clickDismiss()\\\">Cancel</ion-button>\\n      <ion-button color=\\\"primary\\\" (click)=\\\"save()\\\">Save</ion-button>\\n    </div>\\n  </div>\\n</ion-content>\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RlY2huaWNhbC9tZWFzdXJlbWVudC10eXBlL21lYXN1cmVtZW50LXR5cGUucGFnZS5zY3NzIn0= */\"","import { DatePipe, Location } from \"@angular/common\";\nimport { Component, OnInit } from \"@angular/core\";\nimport {\n  Validators,\n  FormBuilder,\n  FormGroup,\n  FormControl,\n} from \"@angular/forms\";\nimport {\n  AlertController,\n  MenuController,\n  ModalController,\n  NavParams,\n} from \"@ionic/angular\";\n\nimport { NotificationsService } from \"src/app/shared/services/notifications/notifications.service\";\nimport { OperationalReadingsService } from \"src/app/shared/services/operational-readings/operational-readings.service\";\n\n@Component({\n  selector: \"app-measurement-type\",\n  templateUrl: \"./measurement-type.page.html\",\n  styleUrls: [\"./measurement-type.page.scss\"],\n  providers: [DatePipe],\n})\nexport class MeasurementTypePage implements OnInit {\n  // Forms\n  measurementtypeFormGroup: FormGroup;\n  myDate = new Date();\n\n  constructor(\n    public alertController: AlertController,\n    public formBuilder: FormBuilder,\n    private datePipe: DatePipe,\n    public location: Location,\n    public menu: MenuController,\n    public modalController: ModalController,\n    public navParams: NavParams,\n    public notificationService: NotificationsService,\n    private operationalreadingService: OperationalReadingsService\n  ) {\n    this.measurementtypeFormGroup = this.formBuilder.group({\n      id: new FormControl(\"\"),\n      asset_id: new FormControl(\"\"),\n      badge_number: new FormControl(\"\"),\n      measurement_type: new FormControl(\"\", Validators.required),\n      reading_date: new FormControl(\n        new Date().toISOString(),\n        Validators.required\n      ),\n      reading_time: new FormControl(\n        new Date().toISOString(),\n        Validators.required\n      ),\n      current_value: new FormControl(\"\", Validators.required),\n      initial_value: new FormControl(\"\", Validators.required),\n      owning_organization: new FormControl(\"\", Validators.required),\n      date: new FormControl(\"\"),\n      status: new FormControl(\"\"),\n    });\n\n    if (this.navParams.get(\"measurementtype\")) {\n      this.measurementtypeFormGroup.patchValue({\n        ...this.navParams.get(\"measurementtype\"),\n      });\n    }\n    if (this.navParams.get(\"asset\")) {\n      this.measurementtypeFormGroup.patchValue({\n        ...this.navParams.get(\"asset\"),\n      });\n    }\n  }\n\n  ngOnInit() {\n    this.menu.enable(false, \"menuNotification\");\n  }\n\n  async presentAlert(header: string, message: string) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: [\"OK\"],\n    });\n\n    await alert.present();\n  }\n\n  save() {\n    // this.measurementtypeFormGroup.patchValue({\n    //   status: \"Pending for Approval\",\n    // });\n    // this.operationalreadingService\n    //   .update(\n    //     this.measurementtypeFormGroup.value.id,\n    //     this.measurementtypeFormGroup.value\n    //   )\n    //   .subscribe(\n    //     (res) => {\n    //       console.log(\"res\", res);\n          this.alertMeasurementType(\n            \"Measurement Type\",\n            \"Your measurement type have successfully submitted into the system. Thank you.\"\n          );\n      //   },\n      //   (err) => {\n      //     console.error(\"err\", err);\n      //   }\n      // );\n  }\n\n  async alertMeasurementType(header, message) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: [\n        {\n          text: \"OK\",\n          handler: () => {\n            this.modalController.dismiss(this.measurementtypeFormGroup.value);\n          },\n        },\n      ],\n    });\n\n    await alert.present();\n  }\n\n  clickDismiss() {\n    this.modalController.dismiss();\n  }\n\n  openNotification() {\n    this.menu.enable(true, \"menuNotification\");\n    this.menu.open(\"menuNotification\");\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { environment } from \"src/environments/environment\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Form } from \"@angular/forms\";\nimport { tap } from \"rxjs/operators\";\nimport { Observable } from \"rxjs\";\nimport { OperationalReadingsModel } from \"./operational-readings.model\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class OperationalReadingsService {\n  url: string = environment.baseUrl + \"v1/operational-readings-pipe/\";\n\n  // Data\n  public ormodels: OperationalReadingsModel[] = [];\n  public ormodel: OperationalReadingsModel;\n\n  constructor(private http: HttpClient) { }\n\n  post(body: Form): Observable<OperationalReadingsModel> {\n    return this.http.post<any>(this.url, body).pipe(\n      tap((res) => {\n        console.log(\"OperationalReadingsModel\", res);\n      })\n    );\n  }\n\n  get(): Observable<OperationalReadingsModel[]> {\n    return this.http.get<any>(this.url).pipe(\n      tap((res) => {\n        console.log(\"OperationalReadingsModel\", res);\n        this.ormodels = res;\n      })\n    );\n  }\n\n  getOne(id: string): Observable<OperationalReadingsModel> {\n    let urlID = this.url + id + \"/\";\n    return this.http.get<OperationalReadingsModel>(urlID).pipe(\n      tap((res: OperationalReadingsModel) => {\n        console.log(\"OperationalReadingsModel\", res);\n        this.ormodel = res;\n      })\n    );\n  }\n\n  update(id: string, body: Form): Observable<OperationalReadingsModel> {\n    return this.http.patch<OperationalReadingsModel>(this.url + id + '/', body).pipe(\n      tap((res) => {\n        console.log(\"OperationalReadingsModel\", res);\n      })\n    );\n  }\n\n  delete(id: string): Observable<any> {\n    return this.http.delete(this.url + id + \"/\").pipe(\n      tap((res) => {\n        console.log(\"OperationalReadingsModel\", res);\n      })\n    );\n  }\n\n  filter(field: string): Observable<OperationalReadingsModel[]> {\n    let urlFilter = this.url + \"?\" + field;\n    return this.http.get<OperationalReadingsModel[]>(urlFilter).pipe(\n      tap((res) => {\n        console.log(\"OperationalReadingsModel\", res);\n      })\n    );\n  }\n\n  getDescOrderList(body): Observable<OperationalReadingsModel[]> {\n    let urlOrdered = this.url + \"asc_ordered_list/\";\n    return this.http.post<any>(urlOrdered, body).pipe(\n      tap((res) => {\n        console.log(\"WorkOrderActivityCompletionModel\", res);\n      })\n    );\n  }\n}\n"],"sourceRoot":"webpack:///"}