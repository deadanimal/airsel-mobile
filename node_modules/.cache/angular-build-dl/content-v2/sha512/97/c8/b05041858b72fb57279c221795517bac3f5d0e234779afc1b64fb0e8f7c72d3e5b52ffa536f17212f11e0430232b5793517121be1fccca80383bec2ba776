{"version":3,"sources":["src/app/pages/technical/work-request-list/work-request-list.page.html","src/app/pages/technical/work-request-list/work-request-list-routing.module.ts","src/app/pages/technical/work-request-list/work-request-list.module.ts","src/app/pages/technical/work-request-list/work-request-list.page.scss","src/app/pages/technical/work-request-list/work-request-list.page.ts","src/app/shared/services/wams/wams.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header mode=\\\"ios\\\" class=\\\"ion-no-border\\\">\\n  <ion-toolbar mode=\\\"ios\\\" class=\\\"ion-no-border toolbar-core\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"homePage('/technical/tabs/tab1')\\\">\\n        <ion-icon src=\\\"../../../../assets/icon/air-selangor-icon.svg\\\" style=\\\"font-size: 2rem\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"font-weight: bold\\\"> Work Request </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"openNotification()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"notifications\\\"></ion-icon>\\n        <ion-badge size=\\\"small\\\" color=\\\"danger\\\" style=\\\"position: absolute; right: -5px; top: 1px\\\">\\n          {{ notificationService.totalnotificationbyuser }}</ion-badge>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"content-core\\\">\\n  <div class=\\\"ion-padding\\\">\\n    <div class=\\\"ion-text-center\\\">\\n      <ion-button color=\\\"primary\\\" (click)=\\\"clickNew()\\\">New Request</ion-button>\\n    </div>\\n    <ion-card *ngFor=\\\"let workrequest of workrequests\\\">\\n      <ion-card-header>\\n        <ion-fab horizontal=\\\"end\\\">\\n          <ion-fab-button *ngIf=\\\"workrequest.approval_profile == ''\\\" size=\\\"small\\\" color=\\\"primary\\\"\\n            (click)=\\\"clickEdit(workrequest)\\\">\\n            <ion-icon name=\\\"document-text\\\"></ion-icon>\\n          </ion-fab-button>\\n\\n          <ion-fab-button *ngIf=\\\"workrequest.approval_profile != ''\\\" size=\\\"small\\\" color=\\\"success\\\"\\n            (click)=\\\"clickEdit(workrequest)\\\">\\n            <ion-icon name=\\\"document-text\\\"></ion-icon>\\n          </ion-fab-button>\\n\\n          <ion-fab-button *ngIf=\\\"workrequest.work_request_status == 'CREATED'\\\" size=\\\"small\\\" color=\\\"tertiary\\\"\\n            (click)=\\\"clickApprove(workrequest)\\\">\\n            <ion-icon name=\\\"checkmark-circle-outline\\\"></ion-icon>\\n          </ion-fab-button>\\n          <!-- <ion-fab-button\\n            size=\\\"small\\\"\\n            color=\\\"danger\\\"\\n            (click)=\\\"clickRemove(i)\\\"\\n          >\\n            <ion-icon name=\\\"trash\\\"></ion-icon>\\n          </ion-fab-button> -->\\n        </ion-fab>\\n        <ion-card-subtitle>Work Request ID</ion-card-subtitle>\\n        <ion-card-title><b>{{ workrequest.work_request_id }}</b></ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <p>Asset ID: {{ workrequest.asset_id }}</p>\\n        <p>Required By Date: {{ workrequest.required_by_date }}</p>\\n        <p>Work Category: {{ workrequest.work_category }}</p>\\n        <p>Work Class: {{ workrequest.work_class }}</p>\\n        <p>Work Priority: {{ workrequest.work_priority }}</p>\\n        <p>Status: {{ workrequest.work_request_status | titlecase }}</p>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WorkRequestListPage } from './work-request-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WorkRequestListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WorkRequestListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WorkRequestListPageRoutingModule } from './work-request-list-routing.module';\n\nimport { WorkRequestListPage } from './work-request-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WorkRequestListPageRoutingModule\n  ],\n  declarations: [WorkRequestListPage]\n})\nexport class WorkRequestListPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RlY2huaWNhbC93b3JrLXJlcXVlc3QtbGlzdC93b3JrLXJlcXVlc3QtbGlzdC5wYWdlLnNjc3MifQ== */\"","declare var broadcaster: any;\n\nimport { Component, OnInit, NgZone } from \"@angular/core\";\nimport { ActivatedRoute, NavigationExtras, Router } from \"@angular/router\";\nimport {\n  ActionSheetController,\n  AlertController,\n  LoadingController,\n  MenuController,\n  ModalController,\n} from \"@ionic/angular\";\n\nimport { ApprovalProfilePage } from \"../approval-profile/approval-profile.page\";\n\nimport { NotificationsService } from \"src/app/shared/services/notifications/notifications.service\";\nimport { WorkRequestsService } from \"src/app/shared/services/work-requests/work-requests.service\";\nimport { AssetsService } from \"src/app/shared/services/assets/assets.service\";\nimport { WamsService } from \"src/app/shared/services/wams/wams.service\";\nimport { AuthService } from 'src/app/shared/services/auth/auth.service';\n\n@Component({\n  selector: \"app-work-request-list\",\n  templateUrl: \"./work-request-list.page.html\",\n  styleUrls: [\"./work-request-list.page.scss\"],\n})\n\nexport class WorkRequestListPage implements OnInit {\n  // List\n  workrequests = [];\n\n  // data\n  private logs = new Array<string>();\n  public scanValue: any;\n  bBarcode: boolean = false;\n  bRfid: boolean = false;\n  badge_number = \"\";\n\n  constructor(\n    private route: ActivatedRoute,\n    private ngZone: NgZone,\n    private router: Router,\n    public actionSheetController: ActionSheetController,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n    public menu: MenuController,\n    public modalController: ModalController,\n    public notificationService: NotificationsService,\n    private workrequestService: WorkRequestsService,\n    private assetService: AssetsService,\n    private wamsService: WamsService,\n    private authService: AuthService\n  ) { }\n\n  private L(...args: any[]) {\n    let v = args.join(\" \");\n    console.log(v);\n    this.ngZone.run(() => {\n      this.logs.push(v);\n    });\n  }\n\n  ngOnInit() {\n    //broadcaster._debug = true;\n    // this.onRegister2DBarcodeListener();\n    // this.onRegisterRFIDListener();\n    this.getWorkRequest()\n  }\n\n  getWorkRequest() {\n    console.log(\"this.authService.userID\", this.authService.userID)\n    let objUser = {\n      userid: this.authService.userID\n    }\n    console.log(\"objUser >>>>>>>>>> \", objUser)\n    this.workrequestService.desc_order_list(objUser).subscribe(\n      (res) => {\n        console.log(\"workrequest res = \", res);\n        this.addGetBadgeNumber(res);\n      },\n      (err) => {\n        console.error(\"err\", err);\n      }\n    );\n  }\n\n  addGetBadgeNumber(workReqData) {\n    this.workrequests = [];\n    workReqData.forEach((element) => {\n      if (element.asset_id != \"\")\n        this.assetService.filter(\"asset_id=\" + element.asset_id).subscribe(\n          (res) => {\n            // console.log(\"res assetsService = \", res);\n            if (res.length > 0) element.badge_no = res[0].badge_no;\n          },\n          (err) => {\n            // console.log(\"err assetsService = \", err);\n          }\n        );\n      this.workrequests.push(element);\n    });\n  }\n\n  ionViewDidEnter() {\n    this.getWorkRequest();\n  }\n\n  homePage(path: string) {\n    this.router.navigate([path]);\n  }\n\n  openNotification() {\n    this.menu.enable(true, \"menuNotification\");\n    this.menu.open(\"menuNotification\");\n  }\n\n  async clickNew() {\n    this.bBarcode = false;\n    this.bRfid = false;\n\n    const actionSheet = await this.actionSheetController.create({\n      header: \"Choose method\",\n      buttons: [\n        {\n          text: \"RFID\",\n          icon: \"scan\",\n          handler: () => {\n            console.log(\"RFID clicked\");\n            this.bBarcode = false;\n            this.bRfid = true;\n            console.log(\"WR RFID clicked\");\n            this.onRegisterRFIDListener();\n          },\n        },\n        {\n          text: \"QR Code\",\n          icon: \"qr-code\",\n          handler: () => {\n            console.log(\"QR Code clicked\");\n            this.bBarcode = true;\n            this.bRfid = false;\n            console.log(\"WR QR CODE clicked\");\n            this.onRegister2DBarcodeListener();\n          },\n        },\n        {\n          text: \"Badge No.\",\n          icon: \"search\",\n          handler: () => {\n            console.log(\"Badge No. clicked\");\n            this.searchBadgeNo();\n          },\n        },\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          icon: \"close\",\n          handler: () => {\n            console.log(\"Cancel clicked\");\n          },\n        },\n      ],\n    });\n    await actionSheet.present();\n  }\n\n  async searchBadgeNo() {\n    const alert = await this.alertController.create({\n      header: \"Badge No.\",\n      message: \"Enter a badge number to search asset\",\n      inputs: [\n        {\n          name: \"badge_no\",\n          type: \"text\",\n          placeholder: \"\",\n        },\n      ],\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          handler: () => {\n            console.log(\"Cancel clicked\");\n          },\n        },\n        {\n          text: \"Search\",\n          handler: (data) => {\n            if (data.badge_no) {\n              this.loadingController\n                .create({\n                  message: \"Please wait...\",\n                })\n                .then((loading) => {\n                  loading.present();\n\n                  this.assetService\n                    .filter(\"badge_no=\" + data.badge_no)\n                    .subscribe(\n                      (res) => {\n                        // if find, go to asset detail list\n                        if (res.length > 0) {\n                          loading.dismiss();\n                          let navigationExtras: NavigationExtras = {\n                            state: {\n                              badge_no: res[0].badge_no,\n                            },\n                          };\n\n                          this.router.navigate(\n                            [\"/technical/work-request\"],\n                            navigationExtras\n                          );\n                        }\n                        // else, find the asset in the wams to pump into PIPE's asset table\n                        else {\n                          // get data from wams\n                          this.wamsService\n                            .getAssetBadgeNo(data.badge_no)\n                            .subscribe(\n                              (res) => {\n                                loading.dismiss();\n\n                                if (res.results) {\n                                  let navigationExtras: NavigationExtras = {\n                                    state: {\n                                      badge_no: data.badge_no,\n                                    },\n                                  };\n\n                                  this.router.navigate(\n                                    [\"/technical/work-request\"],\n                                    navigationExtras\n                                  );\n                                } else {\n                                  this.presentAlert(\n                                    \"Error\",\n                                    \"Sorry, asset is not found in the database.\"\n                                  );\n                                }\n                              },\n                              (err) => {\n                                console.error(\"err\", err);\n                                loading.dismiss();\n\n                                this.presentAlert(\n                                  \"Error\",\n                                  \"Sorry, there is a technical problem going on.\"\n                                );\n                              }\n                            );\n                        }\n                      },\n                      (err) => {\n                        console.log(\"err assetlsService = \", err);\n                        loading.dismiss();\n\n                        this.presentAlert(\n                          \"Error\",\n                          \"Sorry, there is a technical problem going on.\"\n                        );\n                      }\n                    );\n                });\n            } else {\n              this.presentAlert(\n                \"Error\",\n                \"Please enter badge number to find asset detail\"\n              );\n            }\n          },\n        },\n      ],\n    });\n    await alert.present();\n  }\n\n  async presentAlert(header: string, message: string) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: [\"OK\"],\n    });\n\n    await alert.present();\n  }\n\n  async clickEdit(workrequest) {\n    let navigationExtras: NavigationExtras = {\n      state: {\n        workrequest,\n        process: \"view\",\n      },\n    };\n\n    this.router.navigate([\"/technical/work-request\"], navigationExtras);\n  }\n\n  async clickApprove(workrequest) {\n    const modal = await this.modalController.create({\n      component: ApprovalProfilePage,\n    });\n\n    modal.onDidDismiss().then((modelData) => {\n      if (modelData.data != \"\") {\n        this.loadingController\n          .create({\n            message: \"Please wait for a while...\",\n          })\n          .then((loading) => {\n            loading.present();\n            this.submitApprovalProfile(workrequest, modelData.data, loading);\n          });\n      }\n    });\n\n    return await modal.present();\n  }\n\n  submitApprovalProfile(workrequest, data, loading) {\n    let obj = {\n      id: workrequest.id,\n      work_request_id: workrequest.work_request_id,\n      approval_profile: data,\n    };\n\n    this.workrequestService.submit_approval_profile(obj).subscribe(\n      (res) => {\n        if (res) {\n          this.presentAlert(\n            \"Success\",\n            // \"Your work request have successfully approved.\"\n            // \"Work request successfully submitted for approval.\"\n            \"Your work request has been successfully submitted for approval\"\n          );\n        }\n        loading.dismiss();\n      },\n      (err) => {\n        console.error(\"err\", err);\n        this.presentAlert(\"Error\", err.error.error_details);\n        loading.dismiss();\n      },\n      () => {\n        this.getWorkRequest();\n      }\n    );\n  }\n\n  updateRfid(data) {\n    if (this.bRfid)\n      this.ngZone.run(() => {\n        this.scanValue = data;\n\n        if (this.scanValue != \"\") {\n          this.loadingController\n            .create({\n              message: \"Please wait...\",\n            })\n            .then((loading) => {\n              loading.present();\n\n              this.assetService.filter(\"hex_code=\" + this.scanValue).subscribe(\n                (res) => {\n                  loading.dismiss();\n                  // if find, go to asset detail list\n                  if (res.length > 0) {\n                    let navigationExtras: NavigationExtras = {\n                      state: {\n                        badge_no: res[0].badge_no,\n                      },\n                    };\n\n                    this.router.navigate(\n                      [\"/technical/work-request\"],\n                      navigationExtras\n                    );\n                  }\n                  // else, suggest the user to use QR scanner OR search by badge number\n                  else {\n                    this.presentAlert(\n                      \"Error\",\n                      \"The asset is not found in the database. Please try again by using QR scanner OR search by badge number.\"\n                    );\n                  }\n                },\n                (err) => {\n                  console.log(\"err assetlsService = \", err);\n                  loading.dismiss();\n\n                  this.presentAlert(\n                    \"Error\",\n                    \"Sorry, there is a technical problem going on.\"\n                  );\n                }\n              );\n            });\n        } else {\n          this.presentAlert(\"Error\", \"RFID is invalid. Please try again.\");\n        }\n      });\n  }\n\n  updateQrbarcode(data) {\n    if (this.bBarcode)\n      this.ngZone.run(() => {\n        this.scanValue = data;\n\n        if (this.scanValue != \"\") {\n          this.loadingController\n            .create({\n              message: \"Please wait...\",\n            })\n            .then((loading) => {\n              loading.present();\n\n              this.assetService.filter(\"badge_no=\" + this.scanValue).subscribe(\n                (res) => {\n                  // if find, go to asset detail list\n                  if (res.length > 0) {\n                    loading.dismiss();\n                    let navigationExtras: NavigationExtras = {\n                      state: {\n                        badge_no: res[0].badge_no,\n                      },\n                    };\n\n                    this.router.navigate(\n                      [\"/technical/work-request\"],\n                      navigationExtras\n                    );\n                  }\n                  // else, find the asset in the wams to pump into PIPE's asset table\n                  else {\n                    // get data from wams\n                    this.wamsService.getAssetBadgeNo(this.scanValue).subscribe(\n                      (res) => {\n                        loading.dismiss();\n\n                        if (res.results) {\n                          let navigationExtras: NavigationExtras = {\n                            state: {\n                              badge_no: this.scanValue,\n                            },\n                          };\n\n                          this.router.navigate(\n                            [\"/technical/work-request\"],\n                            navigationExtras\n                          );\n                        } else {\n                          this.presentAlert(\n                            \"Error\",\n                            \"Sorry, asset is not found in the database.\"\n                          );\n                        }\n                      },\n                      (err) => {\n                        console.error(\"err\", err);\n                        loading.dismiss();\n\n                        this.presentAlert(\n                          \"Error\",\n                          \"Sorry, there is a technical problem going on.\"\n                        );\n                      }\n                    );\n                  }\n                },\n                (err) => {\n                  console.log(\"err assetlsService = \", err);\n                  loading.dismiss();\n\n                  this.presentAlert(\n                    \"Error\",\n                    \"Sorry, there is a technical problem going on.\"\n                  );\n                }\n              );\n            });\n        } else {\n          this.presentAlert(\"Error\", \"QR code is invalid. Please try again.\");\n        }\n      });\n  }\n\n  clickRemove(index: number) {\n    this.workrequests.splice(index, 1);\n  }\n\n  onRegister2DBarcodeListener() {\n    this.loadingController\n      .create({\n        message: \"Please scan the QR code...\",\n        backdropDismiss:true,\n      })\n      .then((loading) => {\n        loading.present();\n\n        console.log(\"[register onRegister2DBarcodeListener] \");\n        const ev = \"com.scanner.broadcast\";\n        var isGlobal = true;\n\n        var listener = (event) => {\n          console.log(JSON.stringify(event));\n\n          if (event.SCAN_STATE == \"success\") {\n            this.ngZone.run(() => {\n              console.log(\"this.bBarcode = \", this.bBarcode);\n              if (this.bBarcode) {\n                loading.dismiss();\n                //broadcaster.removeEventListener(ev, listener);\n                this.updateQrbarcode(event.data);\n              }\n            });\n          }\n        };\n\n        //broadcaster.addEventListener(ev, isGlobal, listener);\n      });\n  }\n\n  onRegisterRFIDListener() {\n    this.loadingController\n      .create({\n        message: \"Please scan the RFID tag...\",\n        backdropDismiss:true,\n      })\n      .then((loading) => {\n        loading.present();\n\n        console.log(\"[register onRegisterRFIDListener] \");\n        const ev = \"android.intent.action.scanner.RFID\";\n        var isGlobal = true;\n\n        var listener = (event) => {\n          console.log(JSON.stringify(event));\n\n          if (event.SCAN_STATE == \"success\") {\n            this.ngZone.run(() => {\n              console.log(\"this.bRfid = \", this.bRfid);\n              if (this.bRfid) {\n                loading.dismiss();\n                //broadcaster.removeEventListener(ev, listener);\n                this.updateRfid(event.data);\n              }\n            });\n          }\n        };\n\n        //broadcaster.addEventListener(ev, isGlobal, listener);\n      });\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { environment } from \"src/environments/environment\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { tap } from \"rxjs/operators\";\nimport { Observable } from \"rxjs\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class WamsService {\n  url: string = environment.baseUrl + \"v1/wams/services/\";\n  // url: string = \"http://127.0.0.1:8000/v1/wams/services/\";\n\n  constructor(private http: HttpClient) { }\n\n  getService(body): Observable<any> {\n    return this.http.post<any>(this.url, body).pipe(\n      tap((res) => {\n        console.log(body.service_name, res);\n      })\n    );\n  }\n\n  getEmployee(): Observable<any> {\n    let body = {\n      service_name: \"getEmployee\",\n    };\n    return this.http.post<any>(this.url, body).pipe(\n      tap((res) => {\n        console.log(\"getEmployee\", res);\n      })\n    );\n  }\n\n  getWorkOrderActivity(): Observable<any> {\n    let body = {\n      service_name: \"getWorkOrderActivity\",\n      // from_date: \"2021-08-20T00:00:00+00:00\",\n      // to_date: \"2021-08-20T23:59:59+00:00\"\n    };\n    return this.http.post<any>(this.url, body).pipe(\n      tap((res) => {\n        console.log(\"getWorkOrderActivity\", res);\n      })\n    );\n  }\n\n  getAssetSyncOutbound(): Observable<any> {\n    let body = {\n      service_name: \"getAssetSyncOutbound\",\n    };\n    return this.http.post<any>(this.url, body).pipe(\n      tap((res) => {\n        console.log(\"getAssetSyncOutbound\", res);\n      })\n    );\n  }\n\n  getAssetBadgeNo(badge_no): Observable<any> {\n    let body = {\n      service_name: \"getAsset\",\n      badge_number: badge_no,\n    };\n    return this.http.post<any>(this.url, body).pipe(\n      tap((res) => {\n        console.log(\"getAsset\", res);\n      })\n    );\n  }\n}\n"],"sourceRoot":"webpack:///","file":"default~pages-technical-work-request-list-work-request-list-module~work-request-list-work-request-list-module-es5.js"}